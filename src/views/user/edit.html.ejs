<%- include('../partials/navbar') %>

<div class="flex-grid-fourths">
  <div class="col"></div>
  <div class="col2">
    <% if (locals.errors) { %>
      <div class="errors">
        Necesitas arreglar los siguiente errores:
        <ul>
          <% errors.forEach(error => { %>
            <li><%= error.message %></li>
          <% }); %>
        </ul>
      </div>
    <% } %>

    <h1>Edit your Profile</h1>
    <form action="<%=userPatchPath%>" enctype="multipart/form-data" method="post">
    	<input type="hidden" name="_method" value="patch" />

    	<div class="form-group">
		    <label class="form-label" for="exampleInputEmail1">Email address</label>
		    <input type="email" class="form-control" name="email" aria-describedby="emailHelp" placeholder="<%=user.email%>" />
		    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
	    </div>
	  	<div class="form-group">
	  		<label class="form-label">Username</label>
	    	<input type="userName" class="form-control" name="userName" placeholder="<%=user.username%>" />
	  	</div>
	  	<div class="form-group">
	  		<label class="form-label">First Name / Last Name</label>
	    	<input type="firstName" class="form-control" name="firstName" placeholder="<%=user.firstName%>" />
	    	<input type="lastName" class="form-control" name="lastName" placeholder="<%=user.lastName%>" />
	  	</div>
	  	<div class="form-group">
	    	<label class="form-label" for="exampleInputPassword1">Current Password</label>
	    	<input type="password" class="form-control" name="current_password" placeholder="Current Password">
	    	<br>
	    	<label class="form-label">New Password</label>
	    	<input type="password" class="form-control" name="new_password" placeholder="New Password">
	    	<input type="password" class="form-control" name="confirm_password" placeholder="Confirm Password">
	  	</div>

      <label class="form-label">Change Profile Picture</label><br>
      <input type="file" class="btn btn-primary" name="uploads" accept="image/*"><br><br>

	  <button class="btn btn-primarytype" submit>Edit</button>
    </form>
    <br>
    <a class="no-deco" href="<%= userDeletePath %>"><button class="btn btn-danger">Delete</button></a>
    <br>
    <% if (errors) { %>
      <% errors.forEach((error) => { %>
      	<p class="message message-error">Edit error: <%= error.message %></p>
      <% }) %>
    <% } %>

  </div>
  <div class="col"></div>
